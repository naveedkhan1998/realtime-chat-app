<!-- Shared Media Grid -->
{% for message in messages %}
{% if message.attachment %}
<a href="{{ message.attachment.url }}" 
   target="_blank"
   class="aspect-square bg-gray-100 dark:bg-gray-700 rounded-lg overflow-hidden hover:opacity-80 transition-opacity">
    {% if message.attachment_type == 'image' %}
    <img src="{{ message.attachment.url }}" alt="Shared image" class="w-full h-full object-cover">
    {% else %}
    <div class="w-full h-full flex items-center justify-center">
        <i data-lucide="file" class="w-8 h-8 text-gray-400"></i>
    </div>
    {% endif %}
</a>
{% endif %}
{% empty %}
<div class="col-span-3 text-center py-4">
    <p class="text-sm text-gray-500 dark:text-gray-400">No media shared yet</p>
</div>
{% endfor %}

{% if not messages %}
<div class="col-span-3 text-center py-4">
    <p class="text-sm text-gray-500 dark:text-gray-400">No media shared yet</p>
</div>
{% endif %}
