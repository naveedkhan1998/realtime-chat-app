<!-- Received Requests -->
{% if received_requests %}
<div class="mb-6">
    <h4 class="px-4 py-2 text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider">
        Received Requests
    </h4>
    {% for request in received_requests %}
    <div id="request-{{ request.id }}" class="flex items-center justify-between px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors">
        <div class="flex items-center gap-3">
            {% if request.from_user.avatar %}
            <img src="{{ request.from_user.avatar.url }}" alt="{{ request.from_user.name }}" class="w-10 h-10 rounded-full object-cover">
            {% else %}
            <div class="w-10 h-10 rounded-full bg-primary-100 dark:bg-primary-900 flex items-center justify-center">
                <span class="text-primary-600 dark:text-primary-400 font-semibold">
                    {{ request.from_user.name|slice:":1"|upper }}
                </span>
            </div>
            {% endif %}
            <div>
                <p class="font-medium text-gray-900 dark:text-white">{{ request.from_user.name }}</p>
                <p class="text-sm text-gray-500 dark:text-gray-400">{{ request.from_user.email }}</p>
            </div>
        </div>
        
        <div class="flex items-center gap-2">
            <button hx-post="{% url 'htmx:accept_friend_request' request.id %}"
                    hx-target="#request-{{ request.id }}"
                    hx-swap="outerHTML"
                    class="px-3 py-1 bg-primary-600 hover:bg-primary-700 text-white text-sm font-medium rounded-lg transition-colors">
                Accept
            </button>
            <button hx-post="{% url 'htmx:decline_friend_request' request.id %}"
                    hx-target="#request-{{ request.id }}"
                    hx-swap="outerHTML"
                    class="px-3 py-1 bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 text-gray-700 dark:text-gray-200 text-sm font-medium rounded-lg transition-colors">
                Decline
            </button>
        </div>
    </div>
    {% endfor %}
</div>
{% endif %}

<!-- Sent Requests -->
{% if sent_requests %}
<div>
    <h4 class="px-4 py-2 text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider">
        Sent Requests
    </h4>
    {% for request in sent_requests %}
    <div class="flex items-center justify-between px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors">
        <div class="flex items-center gap-3">
            {% if request.to_user.avatar %}
            <img src="{{ request.to_user.avatar.url }}" alt="{{ request.to_user.name }}" class="w-10 h-10 rounded-full object-cover">
            {% else %}
            <div class="w-10 h-10 rounded-full bg-primary-100 dark:bg-primary-900 flex items-center justify-center">
                <span class="text-primary-600 dark:text-primary-400 font-semibold">
                    {{ request.to_user.name|slice:":1"|upper }}
                </span>
            </div>
            {% endif %}
            <div>
                <p class="font-medium text-gray-900 dark:text-white">{{ request.to_user.name }}</p>
                <p class="text-sm text-gray-500 dark:text-gray-400">{{ request.to_user.email }}</p>
            </div>
        </div>
        
        <span class="px-3 py-1 bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400 text-sm rounded-full">
            Pending
        </span>
    </div>
    {% endfor %}
</div>
{% endif %}

{% if not received_requests and not sent_requests %}
<div class="flex flex-col items-center justify-center py-12 text-center">
    <div class="w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mb-4">
        <i data-lucide="inbox" class="w-8 h-8 text-gray-400"></i>
    </div>
    <p class="text-gray-500 dark:text-gray-400">No pending requests</p>
</div>
{% endif %}
